–ö–æ–¥ –±—ã–ª –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –¥–æ—Ä–∞–±–æ—Ç–∞–Ω, —á—Ç–æ–±—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –≤–∞–º **–±–æ–ª—å—à–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –≤–Ω–µ—à–Ω–∏–º –≤–∏–¥–æ–º —Å–∞–π—Ç–∞** –ø—Ä—è–º–æ –≤ **–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏**, –∞ —Ç–∞–∫–∂–µ **–∏–∑–º–µ–Ω–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç –∫–æ—Ä–∑–∏–Ω—ã** —Å–æ–≥–ª–∞—Å–Ω–æ –≤–∞—à–∏–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º.

–í–≤–∏–¥—É —Ç–æ–≥–æ, —á—Ç–æ –≤—ã —Ö–æ—Ç–∏—Ç–µ –æ—á–µ–Ω—å –º–Ω–æ–≥–æ –Ω–∞—Å—Ç—Ä–æ–µ–∫ "–Ω–∞ –ª–µ—Ç—É" –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞ (—Ü–≤–µ—Ç–∞, —à—Ä–∏—Ñ—Ç—ã, —Ä–∞–∑–º–µ—Ä—ã), —è –¥–æ–±–∞–≤–∏–ª –≤ –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å —Ä–∞–∑–¥–µ–ª **"–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –°—Ç–∏–ª–µ–π (CSS)"**. –≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –≤–∞–º –º–µ–Ω—è—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç–∏–ª–∏ —Å–∞–π—Ç–∞ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ CSS, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã —Å–º–æ–∂–µ—Ç–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—è—Ö.

### üõ† –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π HTML-—Ñ–∞–π–ª —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è

–í–æ—Ç —Å–ø–∏—Å–æ–∫ –æ—Å–Ω–æ–≤–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –∏ –≥–æ—Ç–æ–≤—ã–π –∫–æ–¥:

1.  **–§–æ—Ä–º–∞—Ç –ö–æ—Ä–∑–∏–Ω—ã (–ø–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é):**
      * –ö–æ—Ä–∑–∏–Ω–∞ —Ç–µ–ø–µ—Ä—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è **—Å–ø—Ä–∞–≤–∞ (sidebar)**, –∞ –Ω–µ —Å–Ω–∏–∑—É, –∫–∞–∫ –Ω–∞ –≤–∞—à–µ–º –ø—Ä–∏–º–µ—Ä–µ.
      * –î–æ–±–∞–≤–ª–µ–Ω—ã **–∫–Ω–æ–ø–∫–∏ "+" –∏ "‚Äì"** –ø—Ä—è–º–æ –≤ —Å–ø–∏—Å–∫–µ —Ç–æ–≤–∞—Ä–æ–≤ –∫–æ—Ä–∑–∏–Ω—ã –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞.
      * –£–ª—É—á—à–µ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ **–æ–±—â–µ–π —Å—É–º–º—ã**.
2.  **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –ü–∞–Ω–µ–ª—å –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –®–∞–ø–∫–∏:**
      * –í –ø–∞–Ω–µ–ª—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —à–∞–ø–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:
          * **–¶–≤–µ—Ç —Ñ–æ–Ω–∞ —à–∞–ø–∫–∏** (`--header-bg`).
          * **–¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ —à–∞–ø–∫–∏** (–ù–∞–∑–≤–∞–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞, —Ç–µ–ª–µ—Ñ–æ–Ω) (`--header-text-color`).
          * **–†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ –Ω–∞–∑–≤–∞–Ω–∏—è –º–∞–≥–∞–∑–∏–Ω–∞**.
3.  **–ü–∞–Ω–µ–ª—å –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –°—Ç–∏–ª–µ–π (CSS Variables):**
      * –î–æ–±–∞–≤–ª–µ–Ω –Ω–æ–≤—ã–π —Ä–∞–∑–¥–µ–ª **"–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –°—Ç–∏–ª–µ–π (CSS)"** –≤ –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å.
      * –í—ã –º–æ–∂–µ—Ç–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–ª—é—á–µ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (–∫–∞–∫ **—à—Ä–∏—Ñ—Ç—ã, —Ü–≤–µ—Ç–∞, —Ä–∞–∑–º–µ—Ä—ã –∫–∞—Ä—Ç–æ—á–µ–∫**):
          * `--primary-color` (–¶–≤–µ—Ç –∫–Ω–æ–ø–æ–∫ "–í –∫–æ—Ä–∑–∏–Ω—É").
          * `--product-card-bg` (–¶–≤–µ—Ç —Ñ–æ–Ω–∞ –∫–∞—Ä—Ç–æ—á–µ–∫).
          * `--base-font-family` (–®—Ä–∏—Ñ—Ç –≤—Å–µ–≥–æ —Å–∞–π—Ç–∞).
          * `--product-card-width` (–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ –∫–∞—Ä—Ç–æ—á–µ–∫ - –¥–ª—è —Å–µ—Ç–∫–∏).
4.  **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ù–∞—Å—Ç—Ä–æ–µ–∫:**
      * –í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —à–∞–ø–∫–∏ –∏ —Å—Ç–∏–ª–µ–π (CSS) —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ **`localStorage`** –∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

-----

```html
<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
  <title>Paida All ‚Äî –ö–∞—Ç–∞–ª–æ–≥</title>
  <style id="dynamicStyles">
    /* NEW: All editable styles are now variables in :root or set via JS */
    :root {
      --primary-color: #25D366;
      --admin-color: #ff4757;
      --notice-color: #fff0c4;
      --cart-color: #FF9F43;
      --header-bg: #ffffff;
      --header-text-color: #333; /* NEW variable */
      --logo-size: 50px;
      --shop-name-font-size: 22px; /* NEW variable */
      --product-card-bg: #ffffff; /* NEW variable */
      --product-card-width: 300px; /* NEW variable for grid */
      --base-font-family: Arial, sans-serif; /* NEW variable */
    }
    
    body {
      font-family: var(--base-font-family); /* Use variable */
      background: #f9f9f9;
      margin: 0;
      padding: 0;
      min-height: 100vh;
    }
    
    /* –®–∞–ø–∫–∞ */
    .main-header {
      background: var(--header-bg); /* Use variable */
      padding: 15px 0;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      position: static;
    }
    
    .header-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 15px;
      display: flex;
      flex-direction: column;
    }
    
    .header-top {
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 15px;
    }
    
    .logo-container {
      display: flex;
      align-items: center;
      gap: 15px;
      width: 100%;
      justify-content: space-between;
    }
    
    .logo {
      height: var(--logo-size, 50px);
      width: auto;
      border-radius: 5px;
      object-fit: contain;
    }
    
    .shop-name {
      font-size: var(--shop-name-font-size); /* Use variable */
      font-weight: bold;
      color: var(--header-text-color); /* Use variable */
      white-space: nowrap;
      text-align: center;
      flex-grow: 1;
    }
    
    .header-contacts {
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 5px;
      width: 100%;
    }
    
    .contact-phone, .contact-address {
      color: var(--header-text-color); /* Use variable */
    }

    .contact-phone {
      font-size: 18px;
      font-weight: bold;
      white-space: nowrap;
    }
    
    .contact-address {
      font-size: 14px;
      color: #666; /* Fixed color for lighter text */
      text-align: right;
      max-width: 250px;
    }
    
    .header-features {
      display: flex;
      justify-content: center;
      gap: 20px;
      flex-wrap: wrap;
      margin-top: 15px;
      padding: 12px 0;
      background: rgba(0,0,0,0.03);
      border-radius: 8px;
    }
    
    .feature-item {
      display: flex;
      align-items: center;
      font-size: 14px;
      color: #444;
      white-space: nowrap;
    }
    
    .admin-access {
      color: var(--admin-color);
      font-size: 13px;
      cursor: pointer;
      text-decoration: underline;
      white-space: nowrap;
    }

    .notice {
      background-color: var(--notice-color);
      color: #5c4a00;
      padding: 12px;
      margin: 10px;
      border-left: 5px solid #ffd700;
      border-radius: 5px;
    }
    
    /* –§–∏–ª—å—Ç—Ä—ã –∏ –ø–æ–∏—Å–∫ */
    .filters-container {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      padding: 10px;
      background: white;
      margin-bottom: 10px;
      align-items: center;
    }
    
    .search-container {
      position: relative;
      flex-grow: 1;
      max-width: 400px;
    }
    
    /* –ö–∞—Ç–µ–≥–æ—Ä–∏–∏, –ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –¢–∏–ø—ã - –ü—Ä–æ–∫—Ä—É—Ç–∫–∞ */
    .categories-container {
      display: flex;
      flex-direction: column;
      gap: 5px;
      background: white;
      padding: 10px;
      margin-bottom: 10px;
      overflow: hidden; 
    }

    .categories, .subcategories, .types {
      display: flex;
      overflow-x: scroll;
      padding: 5px 0 10px 0; 
      -webkit-overflow-scrolling: touch;
    }
    
    @media (min-width: 769px) {
      .categories::-webkit-scrollbar, .subcategories::-webkit-scrollbar, .types::-webkit-scrollbar {
        height: 8px; 
        display: block;
      }
      .categories::-webkit-scrollbar-thumb, .subcategories::-webkit-scrollbar-thumb, .types::-webkit-scrollbar-thumb {
        background-color: #ccc;
        border-radius: 4px;
      }
      .categories::-webkit-scrollbar-track, .subcategories::-webkit-scrollbar-track, .types::-webkit-scrollbar-track {
        background: #f1f1f1;
      }
    }

    @media (max-width: 768px) {
      .categories::-webkit-scrollbar, .subcategories::-webkit-scrollbar, .types::-webkit-scrollbar {
        display: none;
      }
      .categories, .subcategories, .types {
        scrollbar-width: none;
      }
    }
    
    .category-btn, .type-btn {
      padding: 8px 15px;
      margin-right: 10px;
      border: none;
      border-radius: 20px;
      background: #f1f1f1;
      cursor: pointer;
      white-space: nowrap;
      flex-shrink: 0;
    }
    
    .category-btn.active, .type-btn.active {
      background: var(--primary-color);
      color: white;
    }
    
    /* –¢–æ–≤–∞—Ä—ã */
    .products-container {
      padding: 10px;
    }
    
    .products-list {
      display: grid;
      /* Use CSS variable for responsive card width */
      grid-template-columns: repeat(auto-fill, minmax(var(--product-card-width), 1fr)); 
      gap: 10px;
    }

    .type-header {
      font-size: 20px;
      font-weight: bold;
      color: #333;
      margin: 20px 0 10px;
      padding: 10px;
      background-color: #f1f1f1;
      border-radius: 5px;
      border-bottom: 2px solid var(--primary-color);
      grid-column: 1 / -1; 
    }
    
    .product-card {
      background: var(--product-card-bg); /* Use variable */
      border-radius: 10px;
      padding: 15px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      display: flex;
      flex-direction: column;
      position: relative;
    }
    
    .product-image {
      width: 100%;
      height: 150px;
      object-fit: contain;
      border-radius: 5px;
      margin-bottom: 10px;
      cursor: pointer;
    }
    
    .product-actions {
      display: flex;
      align-items: center;
      margin-top: auto;
    }
    
    .add-to-cart {
      background: var(--primary-color);
      color: white;
      border: none;
      padding: 8px 15px;
      border-radius: 5px;
      cursor: pointer;
      display: flex;
      align-items: center;
      font-size: 14px;
    }
    
    /* NEW: Cart Sidebar Styles (Based on image) */
    .cart-toggle {
      position: fixed;
      bottom: 20px; 
      right: 20px; 
      background: var(--cart-color);
      color: white;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
      z-index: 100;
      cursor: pointer;
      transition: transform 0.2s;
    }

    .whatsapp-btn {
      position: fixed;
      bottom: 90px;
      right: 20px;
      z-index: 100;
      /* Adjusted to be above cart if cart is closed, or just below if cart is open on desktop */
      /* Note: On mobile, cart will overlap both, which is fine for a sidebar */
    }

    .cart-container {
        position: fixed;
        top: 0;
        right: 0;
        width: 100%;
        max-width: 400px; /* Sidebar width */
        height: 100%;
        background: white;
        box-shadow: -2px 0 10px rgba(0,0,0,0.2);
        z-index: 200;
        transform: translateX(100%);
        transition: transform 0.3s ease-in-out;
        display: flex;
        flex-direction: column;
        padding: 20px;
        box-sizing: border-box;
    }

    .cart-container.visible {
        transform: translateX(0);
    }
    
    .cart-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding-bottom: 15px;
        border-bottom: 2px solid var(--primary-color);
        margin-bottom: 15px;
    }

    .cart-title {
        font-size: 24px;
        font-weight: bold;
        color: var(--primary-color);
    }

    .cart-items {
        flex-grow: 1;
        overflow-y: auto;
        padding-right: 10px;
    }

    .cart-item {
        display: flex;
        align-items: center;
        padding: 10px 0;
        border-bottom: 1px dashed #eee;
    }

    .cart-item-name {
        flex-grow: 1;
        font-weight: bold;
        padding-right: 10px;
    }

    .cart-item-quantity-controls {
        display: flex;
        align-items: center;
        gap: 5px;
        min-width: 90px;
        justify-content: center;
    }

    .cart-item-price {
        font-weight: bold;
        min-width: 80px;
        text-align: right;
        color: #2ecc71;
    }

    .cart-item-quantity-controls .quantity-btn {
        width: 25px;
        height: 25px;
        background: #f0f0f0;
        border: 1px solid #ddd;
        border-radius: 4px;
        cursor: pointer;
    }

    .cart-item-quantity-controls span {
        font-weight: bold;
    }
    
    .cart-total {
        padding: 15px 0;
        border-top: 2px solid #ddd;
        display: flex;
        justify-content: space-between;
        font-size: 20px;
        font-weight: bold;
    }

    .cart-actions {
        display: flex;
        flex-direction: column;
        gap: 10px;
    }
    
    .cart-btn {
      width: 100%;
      padding: 15px;
      border: none;
      border-radius: 5px;
      font-weight: bold;
      cursor: pointer;
    }
    
    .clear-cart {
      background: #f1f1f1;
      color: #666;
    }
    
    .checkout-cart {
      background: var(--primary-color);
      color: white;
    }
    
    /* NEW: Admin Style Editor */
    .admin-style-editor, .admin-header-editor {
        padding: 15px;
        background: #e6f7ff;
        border: 1px solid #00bfff;
        border-radius: 5px;
        margin-bottom: 15px;
    }
    .admin-style-editor h4, .admin-header-editor h4 {
        margin-top: 0;
        color: #0077b3;
        border-bottom: 1px dashed #00bfff;
        padding-bottom: 5px;
    }
    .admin-style-editor label, .admin-header-editor label {
        display: block;
        margin-top: 10px;
        font-weight: bold;
        font-size: 14px;
    }
    .admin-style-editor input[type="text"], .admin-style-editor input[type="number"], .admin-header-editor input[type="text"], .admin-header-editor input[type="number"], .admin-header-editor input[type="color"] {
        margin-top: 5px;
        padding: 8px;
        width: 100%;
        box-sizing: border-box;
        border-radius: 4px;
        border: 1px solid #ccc;
    }
    .admin-style-editor button, .admin-header-editor button {
        background-color: var(--primary-color);
        color: white;
        cursor: pointer;
        border: none;
        font-weight: bold;
        margin-top: 10px;
    }
    .color-input-wrapper {
        display: flex;
        align-items: center;
    }
    .color-input-wrapper input[type="color"] {
        width: 50px;
        height: 35px;
        margin-right: 10px;
        padding: 0;
    }
    .color-input-wrapper input[type="text"] {
        flex-grow: 1;
    }

    /* –ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è */
    @media (max-width: 768px) {
        .cart-container {
            width: 100%;
            max-width: 100%; 
        }
        .whatsapp-btn {
            bottom: 70px; /* Above cart toggle */
        }
        .cart-toggle {
            bottom: 20px;
            right: 20px;
        }
    }
  </style>
</head>
<body>
  <header class="main-header">
    <div class="header-container">
      <div class="header-top">
        <div class="logo-container">
          <img src="https://pic.maxiol.com/thumbs2/1753306101.86132844.paidaj.jpg" alt="Paida All" class="logo">
          <div class="shop-name">Paida All</div>
          <div class="admin-access" id="adminAccess">–î–ª—è –∞–¥–º–∏–Ω–∞</div>
        </div>
        <div class="header-contacts">
          <div class="contact-phone">8 (778) 085-54-78</div>
          <div class="contact-address">–≥. –ö–∞—Ä–∞–≥–∞–Ω–¥–∞, —É–ª. –ê–ª–∏—Ö–∞–Ω–æ–≤–∞ 37 (—Ü–æ–∫–æ–ª—å–Ω—ã–π —ç—Ç–∞–∂)</div>
        </div>
      </div>
      
      <div class="header-features">
        <div class="feature-item">üí≤ –û–ø—Ç–æ–≤—ã–µ —Ü–µ–Ω—ã –±–µ–∑ –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–æ–≤</div>
        <div class="feature-item">üìù –†–∞–±–æ—Ç–∞–µ–º —Å —Ñ–∏–∑. –∏ —é—Ä. –ª–∏—Ü–∞–º–∏</div>
        <div class="feature-item">üöö –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ –¥—Ä—É–≥–∏–µ —Ä–µ–≥–∏–æ–Ω—ã</div>
      </div>
    </div>
  </header>

  <a class="whatsapp-btn" href="https://wa.me/77780855478" target="_blank">
    <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp" style="width: 70%; height: 70%; object-fit: contain;">
  </a>

  <div class="cart-toggle" id="cartToggle">
    <div class="cart-badge" id="cartBadge" style="display: none;">0</div>
    üõí
  </div>
  
  <div class="cart-container" id="cartContainer">
    <div class="cart-header">
      <div class="cart-title">–ö–æ—Ä–∑–∏–Ω–∞ (–¢–æ–≤–∞—Ä–æ–≤: <span id="cartCount">0</span>)</div>
      <div id="cartClose" style="cursor: pointer; font-size: 24px;">‚úñ</div>
    </div>
    <div class="cart-items" id="cartItems">
      <div style="padding: 10px; text-align: center; color: #999;">–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</div>
    </div>
    <div class="cart-total">
      <span>–ò—Ç–æ–≥–æ:</span>
      <span id="cartTotal">0 ‚Ç∏</span>
    </div>
    <div class="cart-actions">
      <button class="cart-btn clear-cart" id="clearCart">–û—á–∏—Å—Ç–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É</button>
      <button class="cart-btn checkout-cart" id="checkoutCart" disabled>–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</button>
    </div>
  </div>

  
  <div class="notice">
    –ó–∞–∫–∞–∑—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –¥–µ–Ω—å.<br>
    –î–æ—Å—Ç–∞–≤–∫–∞(–û—Ç 50.000—Ç–≥) –∏ —Å–∞–º–æ–≤—ã–≤–æ–∑ –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ –ö–∞—Ä–∞–≥–∞–Ω–¥–µ.
  </div>
  
  <div class="filters-container">
    <div class="search-container">
      <input type="text" id="searchInput" placeholder="–ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤...">
    </div>
  </div>
  
  <div class="categories-container">
    <div class="categories" id="categories">
      <button class="category-btn active" data-filter-level="category" data-filter-value="all">–í—Å–µ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–∏</button>
    </div>
    <div class="subcategories" id="subcategories">
      <button class="type-btn active" data-filter-level="subcategory" data-filter-value="all">–í—Å–µ –ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏</button>
    </div>
    <div class="types" id="types">
      <button class="type-btn active" data-filter-level="type" data-filter-value="all">–í—Å–µ –¢–∏–ø—ã</button>
    </div>
  </div>
  
  <div class="products-container">
    <div class="products-list" id="productsList"></div>
  </div>
  
  <div class="archive-section" id="archiveSection">
    <div class="archive-title">üì¶ –ê—Ä—Ö–∏–≤ (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∞)</div>
    <div class="products-list" id="archiveList"></div>
  </div>
  
  <div class="admin-panel" id="adminPanel">
    
    <div class="admin-style-editor" id="adminStyleEditor">
        <h4>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –°—Ç–∏–ª–µ–π (CSS)</h4>
        
        <label for="primaryColor">–û—Å–Ω–æ–≤–Ω–æ–π —Ü–≤–µ—Ç (–∫–Ω–æ–ø–∫–∏):</label>
        <div class="color-input-wrapper">
            <input type="color" id="primaryColorPicker">
            <input type="text" id="primaryColor" placeholder="#25D366">
        </div>

        <label for="productCardBg">–¶–≤–µ—Ç —Ñ–æ–Ω–∞ –∫–∞—Ä—Ç–æ—á–µ–∫:</label>
        <div class="color-input-wrapper">
            <input type="color" id="productCardBgPicker">
            <input type="text" id="productCardBg" placeholder="#ffffff">
        </div>

        <label for="productCardWidth">–ú–∏–Ω. —à–∏—Ä–∏–Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∏ (px):</label>
        <input type="number" id="productCardWidth" placeholder="300" min="200" max="500">
        
        <label for="baseFontFamily">–®—Ä–∏—Ñ—Ç —Å–∞–π—Ç–∞ (–Ω–∞–ø—Ä. Arial):</label>
        <input type="text" id="baseFontFamily" placeholder="Arial, sans-serif">
        
        <button id="saveStylesBtn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å—Ç–∏–ª–∏</button>
    </div>
    <div class="admin-header-editor" id="adminHeaderEditor">
      <h4>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –®–∞–ø–∫–∏</h4>
      <label for="newLogoUrl">URL –õ–æ–≥–æ—Ç–∏–ø–∞ (—Ñ–æ—Ç–æ –ø–æ–±–æ–ª—å—à–µ):</label>
      <input type="text" id="newLogoUrl" placeholder="https://..." value="https://pic.maxiol.com/thumbs2/1753306101.86132844.paidaj.jpg">
      <img id="logoPreview" class="header-image-preview" src="https://pic.maxiol.com/thumbs2/1753306101.86132844.paidaj.jpg">
      
      <label for="headerBg">–¶–≤–µ—Ç —Ñ–æ–Ω–∞ —à–∞–ø–∫–∏:</label>
      <div class="color-input-wrapper">
          <input type="color" id="headerBgPicker">
          <input type="text" id="headerBg" placeholder="#ffffff">
      </div>

      <label for="headerTextColor">–¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ –≤ —à–∞–ø–∫–µ (–Ω–∞–∑–≤–∞–Ω–∏–µ, —Ç–µ–ª–µ—Ñ–æ–Ω):</label>
      <div class="color-input-wrapper">
          <input type="color" id="headerTextColorPicker">
          <input type="text" id="headerTextColor" placeholder="#333">
      </div>
      
      <label for="newShopName">–ù–∞–∑–≤–∞–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞:</label>
      <input type="text" id="newShopName" placeholder="Paida All" value="Paida All">
      
      <label for="newShopNameFontSize">–†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ –Ω–∞–∑–≤–∞–Ω–∏—è (px):</label>
      <input type="number" id="newShopNameFontSize" placeholder="22" min="16" max="50">

      <label for="newPhone">–¢–µ–ª–µ—Ñ–æ–Ω:</label>
      <input type="text" id="newPhone" placeholder="8 (778) 085-54-78" value="8 (778) 085-54-78">
      
      <label for="newAddress">–ê–¥—Ä–µ—Å:</label>
      <input type="text" id="newAddress" placeholder="–≥. –ö–∞—Ä–∞–≥–∞–Ω–¥–∞, —É–ª. –ê–ª–∏—Ö–∞–Ω–æ–≤–∞ 37" value="–≥. –ö–∞—Ä–∞–≥–∞–Ω–¥–∞, —É–ª. –ê–ª–∏—Ö–∞–Ω–æ–≤–∞ 37 (—Ü–æ–∫–æ–ª—å–Ω—ã–π —ç—Ç–∞–∂)">
      
      <label for="newLogoSize">–†–∞–∑–º–µ—Ä –ª–æ–≥–æ (px):</label>
      <input type="number" id="newLogoSize" placeholder="50" value="50" min="20" max="200">
      
      <button id="saveHeaderBtn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è —à–∞–ø–∫–∏</button>
    </div>
    <h3>–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä</h3>
    <input type="text" id="productName" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)">
    <input type="text" id="productPrice" placeholder="–¶–µ–Ω–∞ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)">
    <input type="text" id="productImage" placeholder="–°—Å—ã–ª–∫–∞ –Ω–∞ —Ñ–æ—Ç–æ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)">
    <input type="text" id="productCategory" placeholder="–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å/–ö–∞—Ç–µ–≥–æ—Ä–∏—è (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)">
    <input type="text" id="productSubCategory" placeholder="–ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) - –ù–û–í–´–ô –§–ò–õ–¨–¢–†">
    <input type="text" id="productType" placeholder="–¢–∏–ø —Ç–æ–≤–∞—Ä–∞ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)">
    <textarea id="productDescription" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)"></textarea>
    
    <div class="admin-controls">
      <button id="addProductBtn">–î–æ–±–∞–≤–∏—Ç—å</button>
      <button id="quickAddToggle">–ë—ã—Å—Ç—Ä–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ</button>
    </div>
   
    <div class="quick-add-panel" id="quickAddPanel">
      </div>
  </div>

  <script type="module">
    import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm'
    
    // Supabase and Telegram setup (remains the same)
    const supabaseUrl = 'https://qmnnbotyzwftlhwakbnz.supabase.co'
    const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFtbm5ib3R5endmdGxod2FrYm56Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIwOTE3MzYsImV4cCI6MjA2NzY2NzczNn0.QaHkN4M4_Deh4HN4CZ-spv8QKbGKzhrfGwMvr6Pbyv4'
    const supabase = createClient(supabaseUrl, supabaseKey)
    
    const TELEGRAM_BOT_TOKEN = '7673591792:AAFQ83r98YSJay_X81HZIMh2cowWQu1bgGc'
    const TELEGRAM_CHAT_ID = '1182976777'
    
    let isAdmin = false
    const ADMIN_PASSWORD = "erema"
    let selectedCategory = "all" 
    let selectedSubCategory = "all"
    let selectedType = "all"
    let allProducts = []
    let cart = []

    // EXPANDED: Header state object
    let headerState = {
        logoUrl: 'https://pic.maxiol.com/thumbs2/1753306101.86132844.paidaj.jpg',
        shopName: 'Paida All',
        phone: '8 (778) 085-54-78',
        address: '–≥. –ö–∞—Ä–∞–≥–∞–Ω–¥–∞, —É–ª. –ê–ª–∏—Ö–∞–Ω–æ–≤–∞ 37 (—Ü–æ–∫–æ–ª—å–Ω—ã–π —ç—Ç–∞–∂)',
        logoSize: 50,
        headerBg: '#ffffff', // NEW
        headerTextColor: '#333', // NEW
        shopNameFontSize: 22 // NEW
    }

    // NEW: Style state object
    let styleState = {
        primaryColor: '#25D366',
        productCardBg: '#ffffff',
        productCardWidth: 300,
        baseFontFamily: 'Arial, sans-serif'
    }
    
    document.addEventListener('DOMContentLoaded', () => {
      loadState()
      loadProducts()
      setupEventListeners()
      loadCart()
      setupQuickAddFields()
    })
    
    // --- NEW STATE MANAGEMENT ---
    function loadState() {
        const savedHeader = localStorage.getItem('headerState')
        const savedStyles = localStorage.getItem('styleState')
        
        if (savedHeader) {
            try { headerState = { ...headerState, ...JSON.parse(savedHeader) } } catch {}
        }
        if (savedStyles) {
            try { styleState = { ...styleState, ...JSON.parse(savedStyles) } } catch {}
        }

        applyStyles()
        renderHeader()
    }

    function applyStyles() {
        const root = document.documentElement.style
        root.setProperty('--primary-color', styleState.primaryColor)
        root.setProperty('--product-card-bg', styleState.productCardBg)
        root.setProperty('--product-card-width', `${styleState.productCardWidth}px`)
        root.setProperty('--base-font-family', styleState.baseFontFamily)
        
        // Update admin panel inputs if admin mode is active
        if (isAdmin) {
            document.getElementById('primaryColor').value = styleState.primaryColor
            document.getElementById('primaryColorPicker').value = styleState.primaryColor
            document.getElementById('productCardBg').value = styleState.productCardBg
            document.getElementById('productCardBgPicker').value = styleState.productCardBg
            document.getElementById('productCardWidth').value = styleState.productCardWidth
            document.getElementById('baseFontFamily').value = styleState.baseFontFamily
        }
    }

    async function saveStyles() {
        // Get values from input fields
        styleState.primaryColor = document.getElementById('primaryColor').value
        styleState.productCardBg = document.getElementById('productCardBg').value
        styleState.productCardWidth = parseInt(document.getElementById('productCardWidth').value) || 300
        styleState.baseFontFamily = document.getElementById('baseFontFamily').value
    
        localStorage.setItem('styleState', JSON.stringify(styleState))
        applyStyles()
        alert('–°—Ç–∏–ª–∏ —Å–∞–π—Ç–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã!')
        logAdminAction(`–û–±–Ω–æ–≤–ª–µ–Ω—ã —Å—Ç–∏–ª–∏ —Å–∞–π—Ç–∞:\n–¶–≤–µ—Ç –∫–Ω–æ–ø–æ–∫: ${styleState.primaryColor}\n–®–∏—Ä–∏–Ω–∞ –∫–∞—Ä—Ç–æ—á–µ–∫: ${styleState.productCardWidth}px`)
    }

    function renderHeader() {
        const root = document.documentElement.style
        
        // Apply header state to CSS variables
        root.setProperty('--logo-size', `${headerState.logoSize}px`)
        root.setProperty('--header-bg', headerState.headerBg)
        root.setProperty('--header-text-color', headerState.headerTextColor)
        root.setProperty('--shop-name-font-size', `${headerState.shopNameFontSize}px`)

        // Apply header state to the HTML elements
        document.querySelector('.logo').src = headerState.logoUrl
        document.querySelector('.shop-name').textContent = headerState.shopName
        document.querySelector('.contact-phone').textContent = headerState.phone
        document.querySelector('.contact-address').textContent = headerState.address
        
        // Update admin panel inputs if admin mode is active
        if (isAdmin) {
            document.getElementById('newLogoUrl').value = headerState.logoUrl
            document.getElementById('newShopName').value = headerState.shopName
            document.getElementById('newPhone').value = headerState.phone
            document.getElementById('newAddress').value = headerState.address
            document.getElementById('newLogoSize').value = headerState.logoSize
            document.getElementById('headerBg').value = headerState.headerBg
            document.getElementById('headerBgPicker').value = headerState.headerBg
            document.getElementById('headerTextColor').value = headerState.headerTextColor
            document.getElementById('headerTextColorPicker').value = headerState.headerTextColor
            document.getElementById('newShopNameFontSize').value = headerState.shopNameFontSize
            document.getElementById('logoPreview').src = headerState.logoUrl
        }
    }

    async function saveHeaderState() {
        headerState.logoUrl = document.getElementById('newLogoUrl').value
        headerState.shopName = document.getElementById('newShopName').value
        headerState.phone = document.getElementById('newPhone').value
        headerState.address = document.getElementById('newAddress').value
        headerState.logoSize = parseInt(document.getElementById('newLogoSize').value) || 50
        headerState.headerBg = document.getElementById('headerBg').value
        headerState.headerTextColor = document.getElementById('headerTextColor').value
        headerState.shopNameFontSize = parseInt(document.getElementById('newShopNameFontSize').value) || 22
    
        document.getElementById('logoPreview').src = headerState.logoUrl
        localStorage.setItem('headerState', JSON.stringify(headerState))
    
        renderHeader()
    
        alert('–ò–∑–º–µ–Ω–µ–Ω–∏—è —à–∞–ø–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã!')
        logAdminAction(`–û–±–Ω–æ–≤–ª–µ–Ω–∞ —à–∞–ø–∫–∞ —Å–∞–π—Ç–∞:\n–õ–æ–≥–æ: ${headerState.logoUrl}\n–ù–∞–∑–≤–∞–Ω–∏–µ: ${headerState.shopName}\n–†–∞–∑–º–µ—Ä –ª–æ–≥–æ: ${headerState.logoSize}px\n–¶–≤–µ—Ç —Ñ–æ–Ω–∞: ${headerState.headerBg}\n–¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞: ${headerState.headerTextColor}`)
    }

    // --- END NEW STATE MANAGEMENT ---
    
    // ... (loadProducts, logAdminAction, updateAllProductsField remain the same) ...

    function setupEventListeners() { 
        // Admin access
        document.getElementById('adminAccess').addEventListener('click', toggleAdminMode)
        // NEW: Admin Header Save Button
        document.getElementById('saveHeaderBtn').addEventListener('click', saveHeaderState) 
        // NEW: Admin Styles Save Button
        document.getElementById('saveStylesBtn').addEventListener('click', saveStyles)
        // NEW: Color Pickers synchronization
        document.getElementById('headerBgPicker').addEventListener('input', (e) => document.getElementById('headerBg').value = e.target.value)
        document.getElementById('headerTextColorPicker').addEventListener('input', (e) => document.getElementById('headerTextColor').value = e.target.value)
        document.getElementById('primaryColorPicker').addEventListener('input', (e) => document.getElementById('primaryColor').value = e.target.value)
        document.getElementById('productCardBgPicker').addEventListener('input', (e) => document.getElementById('productCardBg').value = e.target.value)

        // Add product
        document.getElementById('addProductBtn').addEventListener('click', addNewProduct) 
        // Quick add
        document.getElementById('quickAddToggle').addEventListener('click', () => { 
            document.getElementById('quickAddPanel').style.display = document.getElementById('quickAddPanel').style.display === 'none' ? 'block' : 'none' 
        })
        document.getElementById('quickItemsCount').addEventListener('change', setupQuickAddFields) 
        document.getElementById('addMultipleBtn').addEventListener('click', addMultipleProducts) 
        
        // Search
        document.getElementById('searchInput').addEventListener('input', function() {
            // ... (search logic remains the same) ...
        })

        // Cart
        document.getElementById('cartToggle').addEventListener('click', toggleCart) 
        document.getElementById('cartClose').addEventListener('click', toggleCart) 
        document.getElementById('clearCart').addEventListener('click', clearCart) 
        document.getElementById('checkoutCart').addEventListener('click', checkoutCart) 
    }

    async function toggleAdminMode() { 
        if (isAdmin) { 
            isAdmin = false 
            document.body.classList.remove('admin-visible') 
        } else { 
            const password = prompt('–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:') 
            if (password === ADMIN_PASSWORD) { 
                isAdmin = true 
                document.body.classList.add('admin-visible') 
                applyStyles() // Apply styles just in case
                renderHeader() // Re-render header to update admin panel inputs
                renderProducts() 
                logAdminAction('–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –≤–æ—à–µ–ª –≤ —Å–∏—Å—Ç–µ–º—É') 
            } else { 
                alert('–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å!') 
            } 
        } 
    }

    // ... (updateCategories, updateSubCategories, updateTypes, renderProducts remain the same) ...
    // Note: product-card-width is used in renderProducts via the CSS grid.

    function createProductCard(product, isArchived) { 
        // ... (product card rendering logic remains the same, only UI changes are in CSS) ...
    }

    // ... (setupProductEventHandlers remains the same) ...
    // ... (updateProduct, moveToArchive, restoreFromArchive, deleteProduct, moveProduct remain the same) ...

    // --- NEW CART FUNCTIONS (Sidebar and detailed controls) ---

    function updateCartUI() {
      const cartItemsContainer = document.getElementById('cartItems')
      const cartTotal = document.getElementById('cartTotal')
      const cartBadge = document.getElementById('cartBadge')
      const cartCount = document.getElementById('cartCount')
      const checkoutBtn = document.getElementById('checkoutCart')
      
      const totalQuantity = cart.reduce((sum, item) => sum + item.quantity, 0)

      if (totalQuantity > 0) {
        cartBadge.style.display = 'flex'
        cartBadge.textContent = totalQuantity
        checkoutBtn.disabled = false
      } else {
        cartBadge.style.display = 'none'
        checkoutBtn.disabled = true
      }
      cartCount.textContent = totalQuantity

      if (cart.length === 0) {
        cartItemsContainer.innerHTML = '<div style="padding: 10px; text-align: center; color: #999;">–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</div>'
      } else {
        cartItemsContainer.innerHTML = cart.map(item => {
            const product = allProducts.find(p => p.id === item.id)
            const name = product ? product.name : item.name 
            const price = product ? product.price : item.price 
            
            return `
              <div class="cart-item" data-id="${item.id}">
                <div class="cart-item-name">${name}</div>
                <div class="cart-item-quantity-controls">
                  <button class="quantity-btn minus" data-id="${item.id}">‚Äì</button>
                  <span>${item.quantity}</span>
                  <button class="quantity-btn plus" data-id="${item.id}">+</button>
                </div>
                <div class="cart-item-price">${(price * item.quantity).toLocaleString('ru-RU')} ‚Ç∏</div>
              </div>
            `
          }).join('')

        // Setup event listeners for new cart buttons
        cartItemsContainer.querySelectorAll('.quantity-btn.plus').forEach(btn => {
            btn.addEventListener('click', () => updateCartItem(btn.dataset.id, 'increase'))
        })
        cartItemsContainer.querySelectorAll('.quantity-btn.minus').forEach(btn => {
            btn.addEventListener('click', () => updateCartItem(btn.dataset.id, 'decrease'))
        })
      }
      
      const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0)
      cartTotal.textContent = `${total.toLocaleString('ru-RU')} ‚Ç∏`
    }

    // ... (loadCart, saveCart, addToCart, updateCartItem, clearCart, toggleCart, checkoutCart remain the same, but they now call the NEW updateCartUI) ...
    
  </script>
</body>
</html>
```
